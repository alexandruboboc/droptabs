!function(a){a.fn.droptabs=function(b){var c=a.extend({dropdownSelector:"li.dropdown",dropdownMenuSelector:"ul.dropdown-menu",dropdownTabsSelector:"li",dropdownCaretSelector:"b.caret",visibleTabsSelector:">li:not(.dropdown)",developmentId:"dt-devInfo",autoArrangeTabs:!0,development:!1},b);return this.each(function(){function j(){var c=h().first().clone().appendTo(b).css("position","fixed"),d=a(c).outerWidth();return a(c).remove(),d}function k(c){var d=a(c).clone().appendTo(b).css("position","fixed"),e=a(d).outerWidth();return a(d).remove(),e}function l(){var b="Dropdown";return a(d).hasClass("active")?b=a(">li.active>a",e).html():f.html().length>0&&(b=f.html()),b=a.trim(b),b.length>10&&(b=b.substring(0,10)+"..."),b}function m(){a(">a",d).html(l()+" "+g.prop("outerHTML"))}function n(b){a("a",a(b)).on("show.bs.tab",function(b){a(b.relatedTarget).parent().removeClass("active")}),a("a",a(b)).on("shown.bs.tab",function(a){m()})}function o(){a(h()).filter(".active").length>0?a(d).addClass("active"):a(d).removeClass("active"),m()}function q(b,c){var d=b.replace(/\s+/g,"-").toLowerCase();return a("#"+d).length>0?a("#"+d).text(b+": "+c):a("#dt-devInfo").append('<div id="'+d+'">'+b+": "+c+"</div>"),!0}var b=a(this),d=a(c.dropdownSelector,this),e=a(c.dropdownMenuSelector,d),f=a(">a",d).clone(),g=a(c.dropdownCaretSelector,d);a(c.dropdownCaretSelector,f).remove();var h=function(){return a(c.dropdownTabsSelector,e)},i=function(){return a(c.visibleTabsSelector,b)};if(c.development){a("body").append('<div class="alert alert-success" id="'+c.developmentId+'"></div>');var p=a("#"+c.developmentId);a(p).css("position","fixed").css("right","20px").css("bottom","20px")}var r=function(){var b=0;return a(i()).each(function(c){b+=parseInt(a(this).outerWidth(),10)}),b+=parseInt(a(d).outerWidth(),10)},s=function(){return b.outerWidth()-r()},t=function(){if(c.development&&(q("Container width",b.outerWidth()),q("Visible tabs width",r()),q("Available space",s()),q("First hidden",j())),s()<0){var f=s();a(i().get().reverse()).each(function(b){if(a(this).hasClass("always-visible")||(a(this).prependTo(e),f+=a(this).outerWidth()),f>=0)return!1})}if(s()>j()){var f=s();a(h()).each(function(c){if(!(k(this)<f)||a(this).hasClass("always-dropdown"))return!1;a(this).appendTo(b),f-=a(this).outerWidth()})}h().length<=0?d.hide():d.show()};if(c.autoArrangeTabs){var u=[];a(i().get().reverse()).each(function(b){a(this).hasClass("always-visible")&&(u.push(a(this)),a(this).remove())});for(var v=0;v<u.length;v++)b.prepend(u[v])}return a(document).ready(function(){t(),h().each(function(){n(a(this))}),i().each(function(){n(a(this))})}),a(window).resize(function(){t(),o()}),this})}}(jQuery);
