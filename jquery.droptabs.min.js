!function(a){a.fn.droptabs=function(b){var c=a.extend({dropdownSelector:"li.dropdown",dropdownMenuSelector:"ul.dropdown-menu",dropdownTabsSelector:"li",visibleTabsSelector:">li:not(.dropdown)",developmentId:"dt-devInfo",autoArrangeTabs:!0,development:!1},b);return this.each(function(){function i(){var c=g().first().clone().appendTo(b).css("position","fixed"),d=a(c).outerWidth();return a(c).remove(),d}function j(c){var d=a(c).clone().appendTo(b).css("position","fixed"),e=a(d).outerWidth();return a(d).remove(),e}function k(b){a("a",a(b)).on("show.bs.tab",function(b){a(b.relatedTarget).parent().removeClass("active")}),a("a",a(b)).on("shown.bs.tab",function(b){a(d).hasClass("active")?a(">a",d).html(a(">li.active>a",e).html().substring(0,10)+'... <b class="caret"></b>'):f?a(">a",d).html(f):a(">a",d).html('Dropdown <b class="caret"></b>')})}function m(b,c){var d=b.replace(/\s+/g,"-").toLowerCase();return a("#"+d).length>0?a("#"+d).text(b+": "+c):a("#dt-devInfo").append('<div id="'+d+'">'+b+": "+c+"</div>"),!0}var b=a(this),d=a(c.dropdownSelector,this),e=a(c.dropdownMenuSelector,d),f=a(">a",d).html(),g=function(){return a(c.dropdownTabsSelector,e)},h=function(){return a(c.visibleTabsSelector,b)};if(c.development){a("body").append('<div class="alert alert-success" id="'+c.developmentId+'"></div>');var l=a("#"+c.developmentId);a(l).css("position","fixed").css("right","20px").css("bottom","20px")}var n=function(){var b=0;return a(h()).each(function(c){b+=parseInt(a(this).outerWidth(),10)}),b+=parseInt(a(d).outerWidth(),10)},o=function(){return b.outerWidth()-n()},p=function(){if(c.development&&(m("Container width",b.outerWidth()),m("Visible tabs width",n()),m("Available space",o()),m("First hidden",i())),o()<0){var f=o();a(h().get().reverse()).each(function(b){if(a(this).hasClass("always-visible")||(a(this).prependTo(e),f+=a(this).outerWidth()),f>=0)return!1})}if(o()>i()){var f=o();a(g()).each(function(c){if(!(j(this)<f)||a(this).hasClass("always-dropdown"))return!1;a(this).appendTo(b),f-=a(this).outerWidth()})}g().length<=0?d.hide():d.show()};if(c.autoArrangeTabs){var q=[];a(h().get().reverse()).each(function(b){a(this).hasClass("always-visible")&&(q.push(a(this)),a(this).remove())});for(var r=0;r<q.length;r++)b.prepend(q[r])}return a(document).ready(function(){p(),g().each(function(){k(a(this))}),h().each(function(){k(a(this))})}),a(window).resize(function(){p()}),this})}}(jQuery);
